if (self.CavalryLogger) { CavalryLogger.start_js(["Ov1il"]); }

__d("ActorSelectorNuxTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER:"composer_seen_count",COMPOSER_COVERED:"composer_covered_seen_count",M_COMPOSER:"m_composer_seen_count",M_UFI:"m_ufi_seen_count",UFI:"ufi_seen_count",UFI_TIMELINE:"ufi_timeline_seen_count",UFI_TIMELINE_COVERED:"ufi_timeline_covered_seen_count"};}),null);
__d("PagesCalloutActions",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REGISTER_CALLOUT:"register_callout",INIT_SURFACE:"init_surface",SHOW_CALLOUT:"show_callout",DISMISS_CALLOUT:"dismiss_callout"};}),null);
__d('PageVoiceDropdownSelector.react',['cx','BootloadedComponent.react','Image.react','JSResource','React','XUIPopoverButton.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=j.constructor).call.apply(n,[this].concat(p)),this.state={dialogShown:false,bootloadFinished:false},this.$PageVoiceDropdownSelector1=function(r){this.props.onChange(r);this.setState({dialogShown:false});}.bind(this),this.$PageVoiceDropdownSelector2=function(){return this.refs['open-menu-button'];}.bind(this),this.$PageVoiceDropdownSelector3=function(){this.setState({bootloadFinished:true});}.bind(this),this.$PageVoiceDropdownSelector7=function(event){this.setState({dialogShown:!this.state.dialogShown,shownBusinessID:this.state.defaultBusinessID},function(){return this.props.onClick(event);}.bind(this));}.bind(this),this.$PageVoiceDropdownSelector4=function(r){this.setState({dialogShown:r});}.bind(this),this.$PageVoiceDropdownSelector5=function(){var r=this.props.selectedActorID;if(!r)return '';if(r===this.props.user.id)return this.props.user.thumbSrc||'';return this.props.pages[r].thumbSrc||'';}.bind(this),this.$PageVoiceDropdownSelector6=function(){var r=this.props.selectedActorID;if(!r)return '';if(r===this.props.user.id)return this.props.user.name||'';return this.props.pages[r].name||'';}.bind(this),m;}l.prototype.render=function(){var m=null;if(this.state.dialogShown)m=c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('PageVoiceDropdownSelectorMenu.react').__setRef('PageVoiceDropdownSelector.react'),bootloadPlaceholder:c('React').createElement('div',null),onComponentLoad:this.$PageVoiceDropdownSelector3},this.props,{contextRef:this.$PageVoiceDropdownSelector2,shown:true,shownBusinessID:this.state.shownBusinessID,onChange:this.$PageVoiceDropdownSelector1,onToggle:this.$PageVoiceDropdownSelector4}));var n=this.state.dialogShown&&!this.state.bootloadFinished,o=this.props.loading||n,p=null,q=null;if(o){q=c('React').createElement('span',{className:"_2wk7"},c('React').createElement(c('XUISpinner.react'),null));}else p=c('React').createElement(c('Image.react'),{className:"_6vg",height:16,src:this.$PageVoiceDropdownSelector5(),width:16});return c('React').createElement('span',null,c('React').createElement(c('XUIPopoverButton.react'),{className:"_4z8-",disabled:this.props.disabled,image:c('React').createElement('span',null,p,q),label:this.props.showPageName?this.$PageVoiceDropdownSelector6():'',maxwidth:this.props.maxwidth,ref:'open-menu-button',suppressed:this.props.suppressed,type:'button',onClick:this.$PageVoiceDropdownSelector7}),m);};l.propTypes={disabled:k.bool,loading:k.bool,maxWidth:k.number,pages:k.object.isRequired,selectedActorID:k.string,showPageName:k.bool,suppressed:k.bool.isRequired,user:k.object.isRequired,onChange:k.func.isRequired,onClick:k.func.isRequired};l.defaultProps={disabled:false,showPageName:false};f.exports=l;}),null);
__d('PagesCalloutDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('ActorSelector.react',['cx','BizSiteIdentifier.brands','BootloadedComponent.react','Bootloader','Event','JSResource','PagesCalloutActions','PagesCalloutDispatcher','PageVoiceDropdownSelector.react','React','ReactDOM','ShortProfiles','TooltipData','emptyFunction','getObjectValues','goURI','joinClasses','tidyEvent'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=500;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return n=(o=j.constructor).call.apply(o,[this].concat(q)),this.state={actorData:{},nuxShown:false},this.$ActorSelector3=function(){return this.refs.selector;}.bind(this),this.$ActorSelector2=function(){c('ShortProfiles').getMulti(this.props.actorIDs,function(s){if(this.$ActorSelector1)this.setState({actorData:s});}.bind(this));}.bind(this),this.$ActorSelector6=function(){if(this.state.nuxShown)this.$ActorSelector4();}.bind(this),this.$ActorSelector5=function(){this.$ActorSelector4();c('goURI')(this.props.settingsURI);}.bind(this),this.$ActorSelector4=function(){this.setState({nuxShown:false});if(this.props.onCompleteNux)this.props.onCompleteNux();}.bind(this),this.$ActorSelector8=function(){if(!this.props.nuxEnabled)return;if(this.props.nuxHoverContext&&!this.$ActorSelector10)this.$ActorSelector10=c('tidyEvent')(c('Event').listen(this.props.nuxHoverContext,'mouseenter',function(){c('Bootloader').loadModules(["ActorSelectorNUXLayer.react"],c('emptyFunction'),'ActorSelector.react');var s=setTimeout(function(){this.$ActorSelector10.remove();this.$ActorSelector11();}.bind(this),l),t=c('tidyEvent')(c('Event').listen(this.props.nuxHoverContext,'mouseleave',function(){clearTimeout(s);t.remove();}));}.bind(this)));}.bind(this),this.$ActorSelector7=function(){if(!this.props.nuxEnabled||!this.props.pageTimelineNuxTipID)return;c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:this.props.pageTimelineNuxTipID,showCallback:function(){return this.$ActorSelector11();}.bind(this)}});}.bind(this),this.$ActorSelector11=function(){if(this.props.nuxEnabled)this.setState({nuxShown:true});}.bind(this),this.$ActorSelector9=function(){if(!this.refs.selector)return;var s=this.state.actorData[this.props.selectedActorID];if(!s)return;if(!this.props.tooltipConstructor)return;c('TooltipData').set(c('ReactDOM').findDOMNode(this.refs.selector),this.props.tooltipConstructor(s.name),'above','right');}.bind(this),n;}m.prototype.componentWillMount=function(){'use strict';this.$ActorSelector1=true;this.$ActorSelector2();};m.prototype.render=function(){'use strict';if(!this.props.selectedActorID||!this.state.actorData[this.props.selectedActorID])return c('React').createElement('div',null);if(this.props.actorIDs.length===0)return c('React').createElement('div',null);var n=null;if(this.state.nuxShown)n=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ActorSelectorNUXLayer.react').__setRef('ActorSelector.react'),bootloadPlaceholder:c('React').createElement('span',null),onCompleteNux:this.$ActorSelector4,onClickSettings:this.$ActorSelector5,settingsURI:this.props.settingsURI,shown:true,contextRef:this.$ActorSelector3,nuxBody:this.props.nuxBody});return c('React').createElement('span',{className:c('joinClasses')("_6vh",this.props.className)},c('React').createElement('span',{ref:'selector'},c('React').createElement(c('PageVoiceDropdownSelector.react'),{disabled:this.props.disabled,loading:this.props.loading,pages:this.state.actorData,onChange:this.props.onChange,onClick:this.$ActorSelector6,selectedActorID:this.props.selectedActorID,searchBarVisible:true,showBusinessPages:false,showPageName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,showPersonalPagesInRoot:!c('BizSiteIdentifier.brands').isBizSite(),suppressed:this.props.suppressed,user:c('getObjectValues')(this.state.actorData)[0]})),n);};m.prototype.componentDidMount=function(){'use strict';this.$ActorSelector7();this.$ActorSelector8();this.$ActorSelector9();};m.prototype.componentDidUpdate=function(n,o){'use strict';if(this.props.actorIDs.toString()!==n.actorIDs.toString())this.$ActorSelector2();this.$ActorSelector8();this.$ActorSelector9();if(this.state.nuxShown&&!o.nuxShown&&this.props.onShowNux)this.props.onShowNux();};m.prototype.componentWillUnmount=function(){'use strict';this.$ActorSelector1=false;};m.propTypes={actorIDs:k.array.isRequired,disabled:k.bool,loading:k.bool,nuxBody:k.node,nuxEnabled:k.bool,nuxHoverContext:k.object,onChange:k.func.isRequired,onCompleteNux:k.func,onShowNux:k.func,pageTimelineNuxTipID:k.string,selectedActorID:k.string,settingsURI:k.string,showName:k.bool,showNameMaxWidth:k.number,suppressed:k.bool,tooltipConstructor:k.func};m.defaultProps={disabled:false,suppressed:true};f.exports=m;}),null);
__d("XAYMTPanelSaveSettingsController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/growth\/aymt\/homepage_panel\/save_settings\/",{time_range:{type:"Enum",enumType:1},ad_account_id:{type:"Int"},promoted_object:{type:"Int"},collapsed:{type:"Int"},dismiss_nux:{type:"Bool",defaultValue:false},flash_insights_dismiss_nux:{type:"Bool",defaultValue:false},refresh_panel:{type:"Bool",defaultValue:false}});}),null);
__d('AdvertiserHomePagelet',['AsyncRequest','DOM','URI','XAYMTPanelSaveSettingsController','$'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function i(j,k){var l=c('XAYMTPanelSaveSettingsController').getURIBuilder().setBool('refresh_panel',true).getURI();l.addQueryData(c('URI').getRequestURI().getQueryData());new (c('AsyncRequest'))().setURI(l).setStatusElement(k).setErrorHandler(function(m){c('DOM').setContent(c('$')('pagelet_advertiser_panel_content'),'');}).send();}};f.exports=h;}),null);
__d("XActorSelectorNuxSeenWriteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/actor_selector\/nux\/mark_seen\/",{nux_type:{type:"Enum",required:true,enumType:1}});}),null);
__d('UFIActorSelector.react',['csx','fbt','ActorSelector.react','ActorSelectorNuxTypes','Arbiter','AsyncRequest','Parent','React','ReactDOM','SubscriptionsHandler','UFICentralUpdates','UFIFeedbackTargets','UFIUserActions','XActorSelectorNuxSeenWriteController'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m='ufi_actor_selector_nux_disabled_event';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return o=(p=k.constructor).call.apply(p,[this].concat(r)),this.state={loading:false,nuxEnabled:this.props.nuxEnabled,nuxHoverContext:null,selectedActorID:null},this.$UFIActorSelector6=function(){c('UFIFeedbackTargets').getFeedbackTarget(this.props.ftEntIdentifier,function(t){this.setState({loading:false,selectedActorID:t.actorforpost});}.bind(this));}.bind(this),this.$UFIActorSelector1=function(){return i._("Like, comment or share as yourself or as one of the Pages you manage.");},this.$UFIActorSelector5=function(t){return i._("Liking and commenting as {actorName}",[i.param('actorName',t)]);},this.$UFIActorSelector2=function(t){this.setState({loading:true});c('UFIUserActions').changeActor(this.props.ftEntIdentifier,t.value);}.bind(this),this.$UFIActorSelector4=function(){var t=this.props.isTimeline?c('ActorSelectorNuxTypes').UFI_TIMELINE:c('ActorSelectorNuxTypes').UFI,u=c('XActorSelectorNuxSeenWriteController').getURIBuilder().setEnum('nux_type',t).getURI();new (c('AsyncRequest'))().setURI(u).send();}.bind(this),this.$UFIActorSelector3=function(){c('Arbiter').inform(m);},o;}n.prototype.render=function(){'use strict';return c('React').createElement(c('ActorSelector.react'),{actorIDs:this.props.actorIDs,loading:this.props.loading||this.state.loading,nuxBody:this.$UFIActorSelector1(),nuxEnabled:this.state.nuxEnabled,nuxHoverContext:this.state.nuxHoverContext,onChange:this.$UFIActorSelector2,onShowNux:this.$UFIActorSelector3,onCompleteNux:this.$UFIActorSelector4,selectedActorID:this.state.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this.$UFIActorSelector5});};n.prototype.componentDidMount=function(){'use strict';this.$UFIActorSelector6();this.$UFIActorSelector7=new (c('SubscriptionsHandler'))();this.$UFIActorSelector7.addSubscriptions(c('UFICentralUpdates').subscribe('feedback-updated',function(p,q){if(this.props.ftEntIdentifier in q.updates)this.$UFIActorSelector6();}.bind(this)),c('Arbiter').subscribe(m,function(){this.setState({nuxEnabled:false});}.bind(this)));var o=c('Parent').bySelector(c('ReactDOM').findDOMNode(this),"._5pcr");if(o)this.setState({nuxHoverContext:o});};n.prototype.componentWillUnmount=function(){'use strict';this.$UFIActorSelector7.release();};n.propTypes={actorIDs:l.array.isRequired,ftEntIdentifier:l.string.isRequired,isTimeline:l.bool,loading:l.bool,nuxEnabled:l.bool,settingsURI:l.string};f.exports=n;}),null);
__d('FeedComposerIDStore',['ReactComposerEvents','Arbiter','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={_composerID:null,_subscriptions:c('SubscriptionsHandler'),set:function i(j){this._subscriptions=new (c('SubscriptionsHandler'))();this._composerID=j;this._subscribeComposerResetEvent();},get:function i(){if(!this._composerID)throw new Error('ID Store has not yet been initialized via set()');return this._composerID;},_subscribeComposerResetEvent:function i(){if(!this._composerID)throw new Error('Composer ID cannot be null');var j=c('Arbiter').subscribeOnce(c('ReactComposerEvents').COMPOSER_RESET+this._composerID,function(k,l){if(l&&l.newComposerID){this._composerID=l.newComposerID;this._subscribeComposerResetEvent();}}.bind(this));this._subscriptions.addSubscriptions(j);}};f.exports=h;}),null);
__d("XReactFeedComposerXBootloadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/feedx\/bootload\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},friend_list_id:{type:"String"},section_id:{type:"String"},target_id:{type:"String",required:true}});}),null);
__d('ReactFeedComposerX',['csx','cx','invariant','ReactComposerActionTypes','ReactComposerAttachmentType','ReactComposerEvents','ReactComposerFocusInit','ReactComposerLoggingName','ReactComposerLoggingQueue','Arbiter','AsyncRequest','ComposerEntryPointRef','CSS','DOM','Event','FeedComposerIDStore','Run','SubscriptionsHandler','XReactComposerLoggingODSController','XReactFeedComposerXBootloadController','$'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){this.$ReactFeedComposerX1=l.actorID;this.$ReactFeedComposerX8=l.root;this.$ReactFeedComposerX3=l.composerID;this.$ReactFeedComposerX12=l.targetID;this.$ReactFeedComposerX4=l.composerType;this.$ReactFeedComposerX6=l.friendListID;this.$ReactFeedComposerX9=l.sectionID;this.$ReactFeedComposerX7=l.gks;this.$ReactFeedComposerX2=false;this.$ReactFeedComposerX5=c('DOM').find(this.$ReactFeedComposerX8,'form');this.$ReactFeedComposerX13=c('DOM').find(this.$ReactFeedComposerX8,"._3en1");this.$ReactFeedComposerX11=new (c('SubscriptionsHandler'))();this.$ReactFeedComposerX11.addSubscriptions(c('Event').listen(this.$ReactFeedComposerX8,'click',this.$ReactFeedComposerX14.bind(this)),c('Event').listen(this.$ReactFeedComposerX13,'keydown',this.$ReactFeedComposerX14.bind(this)),c('Event').listen(this.$ReactFeedComposerX5,'success',this.$ReactFeedComposerX15.bind(this)),c('Arbiter').subscribeOnce('ReactFeedComposerXBootloader/bootload/'+this.$ReactFeedComposerX3,this.$ReactFeedComposerX16.bind(this)),c('Arbiter').subscribeOnce('ReactFeedComposerXBootloader/selectcomposer/'+this.$ReactFeedComposerX3,this.$ReactFeedComposerX14.bind(this)),c('Arbiter').subscribe('ReactComposerFocus/reset/'+this.$ReactFeedComposerX3,function(){this.$ReactFeedComposerX13.value='';}.bind(this)));c('FeedComposerIDStore').set(this.$ReactFeedComposerX3);var m=c('DOM').find(this.$ReactFeedComposerX8,"._4d6h"),n=c('DOM').scry(m,'input[name="composer_photo[]"]')[0];if(n){this.$ReactFeedComposerX11.addSubscriptions(c('Event').listen(n,'click',this.$ReactFeedComposerX14.bind(this)),c('Event').listen(n,'change',this.$ReactFeedComposerX14.bind(this)));if(n.files&&n.files.length>0)this.$ReactFeedComposerX14();}this.$ReactFeedComposerX10=c('DOM').scry(this.$ReactFeedComposerX8,"._4-h7");this.$ReactFeedComposerX10.forEach(function(o){return this.$ReactFeedComposerX11.addSubscriptions(c('Event').listen(o,'click',this.$ReactFeedComposerX17.bind(this)));}.bind(this));if(l.jsModules&&l.jsModules.composerFocus&&l.gks&&l.gks.focusExperiment)c('ReactComposerFocusInit').handler(c('$')('feedx_container'),this.$ReactFeedComposerX3,this.$ReactFeedComposerX1,this.$ReactFeedComposerX7,l.jsModules.composerFocus);c('Run').onLeave(this.$ReactFeedComposerX16.bind(this));}k.prototype.$ReactFeedComposerX17=function(l){var m=l.getTarget(),n=null;while(m){if(m.nodeType===1&&m.nodeName==='A'){n=m;break;}m=m.parentNode;}!(n!==null)?j(0):void 0;this.$ReactFeedComposerX18(n);var o=c('CSS').hasClass(n,"._5qtn");if(o)return;this.$ReactFeedComposerX10.forEach(function(r){return c('CSS').removeClass(r,"_5qtn");});c('CSS').addClass(n,"_5qtn");var p=c('DOM').find(this.$ReactFeedComposerX8,"._559p"),q=c('DOM').find(this.$ReactFeedComposerX8,"._559q");switch(n.getAttribute('data-attachment-type')){case c('ReactComposerAttachmentType').STATUS:c('CSS').hide(q);c('CSS').show(p);break;case c('ReactComposerAttachmentType').MEDIA:case c('ReactComposerAttachmentType').QANDA:c('CSS').show(q);c('CSS').hide(p);break;}};k.prototype.$ReactFeedComposerX14=function(l){if(this.$ReactFeedComposerX2)return;this.$ReactFeedComposerX2=true;this.$ReactFeedComposerX19();var m=c('XReactFeedComposerXBootloadController').getURIBuilder().setString('composer_id',this.$ReactFeedComposerX3).setString('target_id',this.$ReactFeedComposerX12).setEnum('composer_type',this.$ReactFeedComposerX4).setString('friend_list_id',this.$ReactFeedComposerX6).setString('section_id',this.$ReactFeedComposerX9).getURI();new (c('AsyncRequest'))(m).send();var n=c('XReactComposerLoggingODSController').getURIBuilder().setString('event','bootload_start').setEnum('composer_type',c('ComposerEntryPointRef').FEEDX).getURI();new (c('AsyncRequest'))(n).send();};k.prototype.$ReactFeedComposerX18=function(l){var m=c('ReactComposerLoggingName').INLINE_COMPOSER;switch(l.getAttribute('data-attachment-type')){case c('ReactComposerAttachmentType').STATUS:m=c('ReactComposerLoggingName').STATUS_TAB_SELECTOR;break;case c('ReactComposerAttachmentType').MEDIA:m=c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR;break;case c('ReactComposerAttachmentType').ALBUM:m=c('ReactComposerLoggingName').ALBUM_TAB_SELECTOR;break;case c('ReactComposerAttachmentType').NOTES:m=c('ReactComposerLoggingName').NOTES_TAB_SELECTOR;break;case c('ReactComposerAttachmentType').QANDA:m=c('ReactComposerLoggingName').QANDA_TAB_SELECTOR;break;}c('ReactComposerLoggingQueue').add({composerID:this.$ReactFeedComposerX3,type:c('ReactComposerActionTypes').COMPOSER_ENTRY,uiElementName:m});};k.prototype.$ReactFeedComposerX19=function(){c('ReactComposerLoggingQueue').add({composerID:this.$ReactFeedComposerX3,type:c('ReactComposerActionTypes').COMPOSER_ENTRY,uiElementName:c('ReactComposerLoggingName').INLINE_COMPOSER});};k.prototype.$ReactFeedComposerX16=function(){this.$ReactFeedComposerX11.release();};k.prototype.$ReactFeedComposerX15=function(){this.$ReactFeedComposerX13.value='';c('Arbiter').inform(c('ReactComposerEvents').POST_SUCCEEDED+this.$ReactFeedComposerX3);this.$ReactFeedComposerX16();};f.exports=k;}),null);
__d('ReactComposerDraftTypes',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DIALOG:'dialog',TOGGLE:'toggle'};f.exports=h;}),null);
__d('ReactComposerFocusScrollLockUtils',['csx','cx','CSS','DOMQuery','Style','getDocumentScrollElement','getElementRect','getUnboundedScrollPosition','getViewportDimensions'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=300,k=400,l={_interval:0,_pageRoot:null,enable:function m(n){c('CSS').addClass(this._getPageRoot(),"_ihc");var o=c('getElementRect')(n),p=c('getUnboundedScrollPosition')(c('getDocumentScrollElement')()),q=o.top+p.y,r=function(){var s=q+n.offsetHeight+k,t=Math.max(c('getViewportDimensions')().height,s)+'px';if(c('Style').get(this._getPageRoot(),'height')!==t)c('Style').set(this._getPageRoot(),'height',t);}.bind(this);this._interval=setInterval(r,j);},disable:function m(){c('CSS').removeClass(this._getPageRoot(),"_ihc");c('Style').set(this._getPageRoot(),'height',null);clearInterval(this._interval);},_getPageRoot:function m(){if(!this._pageRoot)this._pageRoot=c('DOMQuery').scry(document.body,"._li")[0];return this._pageRoot;}};f.exports=l;}),null);
__d('ReactComposerFocusModal.react',['ReactComposerDraftTypes','ReactComposerFocusScrollLockUtils','ReactComposerFocusWrapperCore.react','Arbiter','Bootloader','Image.react','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=null,l=null,m=null;h=babelHelpers.inherits(n,c('React').PureComponent);i=h&&h.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return o=(p=i.constructor).call.apply(p,[this].concat(r)),this.state={focused:false,showDiscardDialog:false},this.$ReactComposerFocusModal5=function(){if(this.props.gks.draftType=='dialog'){c('Bootloader').loadModules(["ReactComposerHandleUnsavedChanges","ReactComposerFocusSaveAsDraftDialog.react","ReactComposerInit"],function(t,u,v){m=t;l=u;k=v;},'ReactComposerFocusModal.react');}else c('Bootloader').loadModules(["ReactComposerHandleUnsavedChanges","ReactComposerFocusDiscardDialog.react","ReactComposerInit"],function(t,u,v){m=t;l=u;k=v;},'ReactComposerFocusModal.react');}.bind(this),this.$ReactComposerFocusModal7=function(t){if(t)return this.$ReactComposerFocusModal1();if(l&&m&&m.hasUnsavedChanges(this.$ReactComposerFocusModal2())){this.$ReactComposerFocusModal8();}else this.$ReactComposerFocusModal3();}.bind(this),this.$ReactComposerFocusModal3=function(){this.$ReactComposerFocusModal4();k&&k.resetComposer(this.$ReactComposerFocusModal2());c('Arbiter').inform('ReactComposerFocus/reset/'+this.$ReactComposerFocusModal2());this.$ReactComposerFocusModal1();}.bind(this),this.$ReactComposerFocusModal6=function(){var t=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());c('ReactComposerFocusScrollLockUtils').enable(t);this.setState({focused:true});}.bind(this),this.$ReactComposerFocusModal1=function(){c('ReactComposerFocusScrollLockUtils').disable();this.setState({focused:false});}.bind(this),this.$ReactComposerFocusModal8=function(){this.setState({showDiscardDialog:true});}.bind(this),this.$ReactComposerFocusModal4=function(){this.setState({showDiscardDialog:false});}.bind(this),this.$ReactComposerFocusModal2=function(){return this.refs.focus.getComposerID();}.bind(this),o;}n.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusModal1();};n.prototype.render=function(){'use strict';var o=this.state.showDiscardDialog&&l?this.props.gks.draftType==c('ReactComposerDraftTypes').DIALOG?c('React').createElement(l,{getComposerID:this.$ReactComposerFocusModal2,actorID:this.props.actorID,onResetComposer:this.$ReactComposerFocusModal3,onCancel:this.$ReactComposerFocusModal4}):c('React').createElement(l,{onConfirm:this.$ReactComposerFocusModal3,onCancel:this.$ReactComposerFocusModal4}):null;return c('React').createElement('div',null,c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused,fixHeight:true,onFirstFocus:this.$ReactComposerFocusModal5,onFocus:this.$ReactComposerFocusModal6,onDismiss:this.$ReactComposerFocusModal7,ref:'focus'},this.props.children),o);};n.propTypes={composerID:j.string.isRequired,actorID:j.string.isRequired,gks:j.object.isRequired};f.exports=n;}),null);
__d('ReactComposerFocusModalWithoutDiscard.react',['ReactComposerDraftTypes','ReactComposerEvents','ReactComposerFocusScrollLockUtils','ReactComposerFocusWrapperCore.react','Arbiter','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return l=(m=i.constructor).call.apply(m,[this].concat(o)),this.state={focused:false},this.$ReactComposerFocusModalWithoutDiscard2=function(){var q=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());c('ReactComposerFocusScrollLockUtils').enable(q);this.setState({focused:true});if(this.props.gks.draftType==c('ReactComposerDraftTypes').TOGGLE)c('Arbiter').inform(c('ReactComposerEvents').LOAD_DRAFT+this.refs.focus.getComposerID(),null,c('Arbiter').BEHAVIOR_STATE);}.bind(this),this.$ReactComposerFocusModalWithoutDiscard1=function(q){if(!q&&this.props.gks.draftType==c('ReactComposerDraftTypes').TOGGLE)c('Arbiter').inform(c('ReactComposerEvents').SET_DRAFT_MODE+this.refs.focus.getComposerID());c('ReactComposerFocusScrollLockUtils').disable();this.setState({focused:false});}.bind(this),this.$ReactComposerFocusModalWithoutDiscard3=function(){return this.refs.focus.getComposerID();}.bind(this),l;}k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusModalWithoutDiscard1();};k.prototype.render=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused,fixHeight:true,onFocus:this.$ReactComposerFocusModalWithoutDiscard2,onDismiss:this.$ReactComposerFocusModalWithoutDiscard1,ref:'focus'},this.props.children));};k.propTypes={composerID:j.string.isRequired,gks:j.object.isRequired};f.exports=k;}),null);