!function(e,t){"use strict";function o(t,o){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:z+"-close"},o);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,d||(d=e(window),g=e('<div class="'+z+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(p=e("body")).click(r).on("touchmove",function(){return!1}),e(document).focusin(function(t){k&&!k.has(t.target).length&&(h?h.focus():e(document.activeElement).blur())}).keydown(function(e){return k&&27===e.keyCode?r(e):void 0})),t.each(function(){var t=e(this),o={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?"function"==typeof n.offset?n.offset=function(e){return function(){var t=this;return e.call(t,function(){f.call(t)})}}(n.offset):(o.left=n.offset.left,o.top=n.offset.top,o.marginLeft=o.marginTop=""):n.offset=f,n.closeClass&&t.find("."+n.closeClass).off("click",r).click(r),e.each([["open",C],["close",I],["beforeopen",E],["beforeclose",L]],function(e,o){var r=o[0],i=o[1];"function"==typeof n[r]&&t.off(i,n[r]).on(i,n[r])}),t.css(o).data(T,n).appendTo(p).on("touchmove",function(){return!1})})}function n(n,f){var c,z,I,L,D,q=n.length?n.eq(0):t;return a||!q?n:((f||!(c=q.data(T)))&&(c=o(q,f).data(T)),!s&&c.force&&u&&u.get(0)!==q.get(0)&&(u.stop(!0,!0),g.stop(!0,!0)),!s&&c.force&&k&&k.get(0)!==q.get(0)?(s=q,r(k)):null===k&&(a=!0,D=e.Event(E,{cancelable:!0}),q.trigger(D),D.isDefaultPrevented()||(z=p.get(0).style,m=z.overflow,I=p.prop("clientWidth"),L=p.prop("clientHeight"),p.css("overflow","hidden"),I-=p.prop("clientWidth"),L-=p.prop("clientHeight"),y=z.marginRight,x=z.marginBottom,0>I&&p.css("marginRight","+="+-I),0>L&&p.css("marginBottom","+="+-L),v=e(document.activeElement).blur(),h=null,w=d.scrollLeft(),b=d.scrollTop(),d.scroll(l),i(q,c),c.effect.open.call(u=q,c.duration||1,function(){u=t,q.find("a,input,select,textarea,button,object,area,img,map").each(function(){var t=e(this);return t.focus().get(0)===document.activeElement?(h=t,!1):void 0}),k=q,q.trigger(C)}),g.css({backgroundColor:c.overlay.fillColor,zIndex:c.overlay.zIndex}).fadeTo(c.duration,c.overlay.opacity),k=0),a=!1),n)}function r(o){var r,i,f,c,h=o instanceof e.Event;return!a&&k&&(a=!0,r=h?k:function(){var e=o.index(k);return e>-1?o.eq(e):t}(),r&&(f=e.Event(L,{cancelable:!0}),h?f.from=o:s&&(f.from=s),r.trigger(f),f.isDefaultPrevented()?s=t:(i=r.data(T),c=s?1:i.duration||1,i.effect.close.call(u=r,c,function(){var i;u=t,p.css({overflow:m,marginRight:y,marginBottom:x}),v&&v.length&&v.focus(),d.off("scroll",l).scrollLeft(w).scrollTop(b),k=null,i=e.Event(I),h?i.from=o:s&&(i.from=s),r.trigger(i),s&&window.setTimeout(function(){n(s),s=t},0)}),g.fadeOut(c),k=0)),a=!1),h?(o.preventDefault(),!1):o}function i(e,t){var o;t=t||e.data(T),"function"==typeof t.offset&&(o=t.offset.call(e))&&e.css({left:o.left,top:o.top,marginLeft:"",marginTop:""})}function f(){this.css({left:"50%",top:"50%",marginLeft:"-"+this.outerWidth()/2+"px",marginTop:"-"+this.outerHeight()/2+"px"})}function l(e){return d.scrollLeft(w).scrollTop(b),e.preventDefault(),!1}function c(e,n,r){var i,f=e.length?e.eq(0):t;if(f&&(i=f.data(T)||o(f).data(T),i.hasOwnProperty(n)))return null!=r&&(i[n]=r),i[n]}var a,s,u,d,p,g,v,h,m,y,x,w,b,T="plainModal",z=T.toLowerCase(),C=z+"open",I=z+"close",E=z+"beforeopen",L=z+"beforeclose",k=null;e(function(){e(window).resize(function(){k&&i(k)})}),e.fn[T]=function(e,t,i){return"open"===e?n(this,t):"close"===e?r(this):"option"===e?c(this,t,i):o(this,e)}}(jQuery);